#!/usr/bin/env ruby

arguments = ARGV
help = "I'd cheer for you, if only I knew who you were :(\nTry again with `./cheers.rb [Name] [MM/DD Birthday]`"

if arguments.length == 1
  name = arguments[0]
  birthday = ""
elsif arguments.length == 2
  name = arguments[0]
  birthday = arguments[1]
end

def name_parser(name)
  print_name = name
  an_letters = "AEIOU"
  name = name.sub(/-/, '') if /-/.match(name)
  name.each_char do |letter|
    letter.upcase!
    article = an_letters.include?(letter) ? "an" : "a"
    print "Give me #{article}... #{letter}\n"
  end
  print print_name.rstrip + "'s just GRAND!\n"
end

def date_parser(birthday)
  if /\d{3,4}/.match(birthday).nil? and birthday != ""
    return true
  else
    return nil
  end
end

if /[a-zA-Z]/.match(name).nil? or arguments == [] or date_parser(birthday)
  puts help
else
  name_parser(name)
end

